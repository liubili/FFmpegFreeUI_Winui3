<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="FFmpegFreeUI.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:FFmpegFreeUI"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Padding="32" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto" RowSpacing="20">
        <!-- 1. FFmpeg bin 路径输入和提示 -->
        <TextBlock Text="FFmpeg bin 路径：" VerticalAlignment="Center"/>
        <StackPanel Orientation="Horizontal" Grid.Row="1" Spacing="8">
            <TextBox x:Name="FfmpegPathBox" Width="400" PlaceholderText="请输入FFmpeg的bin目录路径"/>
            <Button Content="选择..." Click="OnSelectFfmpegPath"/>
            <ToolTipService.ToolTip>
                <ToolTip Content="输入FFmpeg可执行文件（如ffmpeg.exe）所在的bin目录路径"/>
            </ToolTipService.ToolTip>
        </StackPanel>

        <!-- 2. 自动获取FFmpeg最新版本下载按钮与提示气泡 -->
        <StackPanel Orientation="Horizontal" Grid.Row="2" Spacing="8">
            <Button x:Name="DownloadFfmpegBtn" Content="下载最新FFmpeg" Click="OnDownloadFfmpeg"/>
            <Button x:Name="OpenFfmpegFolderBtn" Content="打开" Click="OnOpenFfmpegFolder" Visibility="Collapsed"/>
            <ToolTipService.ToolTip>
                <ToolTip Content="点击自动下载并保存最新版本的FFmpeg"/>
            </ToolTipService.ToolTip>
        </StackPanel>

        <!-- 3. 下载进度条 -->
        <ProgressBar x:Name="DownloadProgressBar" Grid.Row="3" Height="8" Minimum="0" Maximum="100" Visibility="Collapsed" Margin="0,8,0,0"/>

        <!-- 4. 状态与错误提示 -->
        <StackPanel Orientation="Horizontal" Grid.Row="4" Spacing="8" VerticalAlignment="Center">
            <TextBlock x:Name="InfoTextBlock" FontSize="14" VerticalAlignment="Center"/>
            <InfoBadge x:Name="ErrorInfoBadge" Foreground="Red" Visibility="Collapsed" VerticalAlignment="Center"/>
        </StackPanel>
    </Grid>
</Page>
